{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Text, Card, Button, Avatar, Chip, FAB } from 'react-native-paper';\nimport { Ionicons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { authAPI, coupleAPI, pointsAPI } from \"../services/api\";\nimport { colors, commonStyles } from \"../styles/theme\";\nimport { useSnackbar } from \"../hooks/useSnackbar\";\nimport { showError, showSuccess, showInfo } from \"../utils/notifications\";\nimport CustomSnackbar from \"../components/CustomSnackbar\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    coupleInfo = _useState4[0],\n    setCoupleInfo = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    points = _useState6[0],\n    setPoints = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    recentHistory = _useState8[0],\n    setRecentHistory = _useState8[1];\n  var _useState9 = useState(true),\n    _useState0 = _slicedToArray(_useState9, 2),\n    loading = _useState0[0],\n    setLoading = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    refreshing = _useState10[0],\n    setRefreshing = _useState10[1];\n  var snackbar = useSnackbar();\n  useEffect(function () {\n    loadData();\n  }, []);\n  var loadData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var storedUserInfo = yield AsyncStorage.getItem('userInfo');\n        if (storedUserInfo) {\n          setUserInfo(JSON.parse(storedUserInfo));\n        }\n        var profileResponse = yield authAPI.getProfile();\n        setUserInfo(profileResponse.user);\n        setPoints(profileResponse.user.points);\n        try {\n          var coupleResponse = yield coupleAPI.getCouple();\n          setCoupleInfo(coupleResponse.couple);\n        } catch (error) {\n          var _error$response;\n          if (((_error$response = error.response) == null ? void 0 : _error$response.status) !== 404) {\n            console.error('获取情侣信息失败:', error);\n          }\n        }\n        try {\n          var historyResponse = yield pointsAPI.getHistory(5, 0);\n          setRecentHistory(historyResponse.history || []);\n        } catch (error) {\n          console.error('获取积分历史失败:', error);\n        }\n      } catch (error) {\n        console.error('加载数据失败:', error);\n        snackbar.showError('加载数据失败，请检查网络连接');\n        showError('加载数据失败，请检查网络连接');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var onRefresh = useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield loadData();\n    setRefreshing(false);\n  }), []);\n  var handleInviteCouple = function handleInviteCouple() {\n    if (Platform.OS === 'web') {\n      var username = window.prompt('请输入对方的用户名');\n      if (!(username != null && username.trim())) return;\n      inviteUser(username.trim());\n    } else {\n      Alert.prompt('邀请情侣', '请输入对方的用户名', [{\n        text: '取消',\n        style: 'cancel'\n      }, {\n        text: '邀请',\n        onPress: function () {\n          var _onPress = _asyncToGenerator(function* (username) {\n            if (!(username != null && username.trim())) return;\n            inviteUser(username.trim());\n          });\n          function onPress(_x) {\n            return _onPress.apply(this, arguments);\n          }\n          return onPress;\n        }()\n      }], 'plain-text');\n    }\n  };\n  var inviteUser = function () {\n    var _ref4 = _asyncToGenerator(function* (username) {\n      try {\n        yield coupleAPI.invite(username);\n        snackbar.showSuccess('邀请发送成功！');\n        showSuccess('邀请发送成功！');\n        loadData();\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        var errorMessage = ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || '邀请失败';\n        snackbar.showError(errorMessage);\n        showError(errorMessage);\n      }\n    });\n    return function inviteUser(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var formatDate = function formatDate(dateString) {\n    var date = new Date(dateString);\n    return date.toLocaleDateString('zh-CN', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  var getPointsColor = function getPointsColor(points) {\n    if (points > 0) return colors.success;\n    if (points < 0) return colors.error;\n    return colors.onSurfaceVariant;\n  };\n  if (loading) {\n    return _jsx(View, {\n      style: commonStyles.centerContainer,\n      children: _jsx(Text, {\n        children: \"\\u52A0\\u8F7D\\u4E2D...\"\n      })\n    });\n  }\n  return _jsxs(View, {\n    style: commonStyles.container,\n    children: [_jsxs(ScrollView, {\n      style: styles.scrollView,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh\n      }),\n      children: [_jsx(Card, {\n        style: styles.userCard,\n        children: _jsxs(Card.Content, {\n          style: styles.userCardContent,\n          children: [_jsx(Avatar.Icon, {\n            size: 60,\n            icon: \"account\",\n            style: {\n              backgroundColor: colors.primary\n            }\n          }), _jsxs(View, {\n            style: styles.userInfo,\n            children: [_jsx(Text, {\n              style: styles.username,\n              children: userInfo == null ? void 0 : userInfo.username\n            }), _jsxs(View, {\n              style: styles.pointsContainer,\n              children: [_jsx(Ionicons, {\n                name: \"diamond\",\n                size: 20,\n                color: colors.coin\n              }), _jsxs(Text, {\n                style: styles.pointsText,\n                children: [points, \" \\u79EF\\u5206\"]\n              })]\n            })]\n          })]\n        })\n      }), coupleInfo ? _jsx(Card, {\n        style: [commonStyles.card, styles.coupleCard],\n        children: _jsxs(Card.Content, {\n          children: [_jsxs(View, {\n            style: styles.coupleHeader,\n            children: [_jsx(Ionicons, {\n              name: \"heart\",\n              size: 24,\n              color: colors.heart\n            }), _jsx(Text, {\n              style: styles.coupleTitle,\n              children: \"\\u6211\\u7684\\u60C5\\u4FA3\"\n            })]\n          }), _jsxs(View, {\n            style: styles.coupleInfo,\n            children: [_jsx(Avatar.Icon, {\n              size: 50,\n              icon: \"account-heart\",\n              style: {\n                backgroundColor: colors.secondary\n              }\n            }), _jsxs(View, {\n              style: styles.partnerInfo,\n              children: [_jsx(Text, {\n                style: styles.partnerName,\n                children: coupleInfo.partner.username\n              }), _jsxs(View, {\n                style: styles.partnerPoints,\n                children: [_jsx(Ionicons, {\n                  name: \"diamond\",\n                  size: 16,\n                  color: colors.coin\n                }), _jsxs(Text, {\n                  style: styles.partnerPointsText,\n                  children: [coupleInfo.partner.points, \" \\u79EF\\u5206\"]\n                })]\n              })]\n            })]\n          })]\n        })\n      }) : _jsx(Card, {\n        style: [commonStyles.card, styles.noCoupleCard],\n        children: _jsxs(Card.Content, {\n          style: styles.noCoupleContent,\n          children: [_jsx(Ionicons, {\n            name: \"heart-outline\",\n            size: 48,\n            color: colors.onSurfaceVariant\n          }), _jsx(Text, {\n            style: styles.noCoupleText,\n            children: \"\\u8FD8\\u6CA1\\u6709\\u60C5\\u4FA3\"\n          }), _jsx(Text, {\n            style: styles.noCoupleSubtext,\n            children: \"\\u9080\\u8BF7\\u4F60\\u7684\\u53E6\\u4E00\\u534A\\u52A0\\u5165\\u5427\\uFF01\"\n          }), _jsx(Button, {\n            mode: \"contained\",\n            onPress: handleInviteCouple,\n            style: styles.inviteButton,\n            icon: \"heart-plus\",\n            children: \"\\u9080\\u8BF7\\u60C5\\u4FA3\"\n          })]\n        })\n      }), recentHistory.length > 0 && _jsx(Card, {\n        style: commonStyles.card,\n        children: _jsxs(Card.Content, {\n          children: [_jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"\\u6700\\u8FD1\\u6D3B\\u52A8\"\n          }), recentHistory.map(function (item) {\n            return _jsxs(View, {\n              style: styles.historyItem,\n              children: [_jsxs(View, {\n                style: styles.historyLeft,\n                children: [_jsx(Text, {\n                  style: styles.historyDescription,\n                  children: item.description\n                }), _jsx(Text, {\n                  style: styles.historyDate,\n                  children: formatDate(item.created_at)\n                })]\n              }), _jsxs(Chip, {\n                style: [styles.pointsChip, {\n                  backgroundColor: getPointsColor(item.points) + '20'\n                }],\n                textStyle: {\n                  color: getPointsColor(item.points)\n                },\n                children: [item.points > 0 ? '+' : '', item.points]\n              })]\n            }, item.id);\n          })]\n        })\n      })]\n    }), coupleInfo && _jsx(FAB, {\n      icon: \"plus\",\n      style: styles.fab,\n      onPress: function onPress() {\n        if (Platform.OS === 'web') {\n          snackbar.showInfo('请使用底部导航栏访问各功能');\n        } else {\n          Alert.alert('快速操作', '选择要执行的操作', [{\n            text: '取消',\n            style: 'cancel'\n          }, {\n            text: '创建事件',\n            onPress: function onPress() {\n              return navigation.navigate('Events');\n            }\n          }, {\n            text: '执行规则',\n            onPress: function onPress() {\n              return navigation.navigate('Rules');\n            }\n          }, {\n            text: '购买商品',\n            onPress: function onPress() {\n              return navigation.navigate('Shop');\n            }\n          }]);\n        }\n      }\n    }), _jsx(CustomSnackbar, {\n      visible: snackbar.visible,\n      message: snackbar.message,\n      type: snackbar.type,\n      onDismiss: snackbar.hide\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  scrollView: {\n    flex: 1\n  },\n  userCard: _objectSpread(_objectSpread({}, commonStyles.card), {}, {\n    backgroundColor: colors.primaryContainer\n  }),\n  userCardContent: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  userInfo: {\n    marginLeft: 16,\n    flex: 1\n  },\n  username: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: colors.onPrimaryContainer\n  },\n  pointsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4\n  },\n  pointsText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.onPrimaryContainer,\n    marginLeft: 4\n  },\n  coupleCard: {\n    backgroundColor: colors.secondaryContainer\n  },\n  coupleHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12\n  },\n  coupleTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.onSecondaryContainer,\n    marginLeft: 8\n  },\n  coupleInfo: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  partnerInfo: {\n    marginLeft: 12\n  },\n  partnerName: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.onSecondaryContainer\n  },\n  partnerPoints: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4\n  },\n  partnerPointsText: {\n    fontSize: 14,\n    color: colors.onSecondaryContainer,\n    marginLeft: 4\n  },\n  noCoupleCard: {\n    backgroundColor: colors.surfaceVariant\n  },\n  noCoupleContent: {\n    alignItems: 'center',\n    paddingVertical: 20\n  },\n  noCoupleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.onSurfaceVariant,\n    marginTop: 12\n  },\n  noCoupleSubtext: {\n    fontSize: 14,\n    color: colors.onSurfaceVariant,\n    marginTop: 4,\n    marginBottom: 16\n  },\n  inviteButton: {\n    backgroundColor: colors.primary\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.onSurface,\n    marginBottom: 12\n  },\n  historyItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.outline\n  },\n  historyLeft: {\n    flex: 1\n  },\n  historyDescription: {\n    fontSize: 14,\n    color: colors.onSurface\n  },\n  historyDate: {\n    fontSize: 12,\n    color: colors.onSurfaceVariant,\n    marginTop: 2\n  },\n  pointsChip: {\n    marginLeft: 8\n  },\n  fab: {\n    position: 'absolute',\n    margin: 16,\n    right: 0,\n    bottom: 0,\n    backgroundColor: colors.primary\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useCallback","View","StyleSheet","ScrollView","RefreshControl","Alert","Platform","Text","Card","Button","Avatar","Chip","FAB","Ionicons","AsyncStorage","authAPI","coupleAPI","pointsAPI","colors","commonStyles","useSnackbar","showError","showSuccess","showInfo","CustomSnackbar","jsx","_jsx","jsxs","_jsxs","HomeScreen","_ref","navigation","_useState","_useState2","_slicedToArray","userInfo","setUserInfo","_useState3","_useState4","coupleInfo","setCoupleInfo","_useState5","_useState6","points","setPoints","_useState7","_useState8","recentHistory","setRecentHistory","_useState9","_useState0","loading","setLoading","_useState1","_useState10","refreshing","setRefreshing","snackbar","loadData","_ref2","_asyncToGenerator","storedUserInfo","getItem","JSON","parse","profileResponse","getProfile","user","coupleResponse","getCouple","couple","error","_error$response","response","status","console","historyResponse","getHistory","history","apply","arguments","onRefresh","handleInviteCouple","OS","username","window","prompt","trim","inviteUser","text","style","onPress","_onPress","_x","_ref4","invite","_error$response2","_error$response2$data","errorMessage","data","_x2","formatDate","dateString","date","Date","toLocaleDateString","month","day","hour","minute","getPointsColor","success","onSurfaceVariant","centerContainer","children","container","styles","scrollView","refreshControl","userCard","Content","userCardContent","Icon","size","icon","backgroundColor","primary","pointsContainer","name","color","coin","pointsText","card","coupleCard","coupleHeader","heart","coupleTitle","secondary","partnerInfo","partnerName","partner","partnerPoints","partnerPointsText","noCoupleCard","noCoupleContent","noCoupleText","noCoupleSubtext","mode","inviteButton","length","sectionTitle","map","item","historyItem","historyLeft","historyDescription","description","historyDate","created_at","pointsChip","textStyle","id","fab","alert","navigate","visible","message","type","onDismiss","hide","create","flex","_objectSpread","primaryContainer","flexDirection","alignItems","marginLeft","fontSize","fontWeight","onPrimaryContainer","marginTop","secondaryContainer","marginBottom","onSecondaryContainer","surfaceVariant","paddingVertical","onSurface","justifyContent","borderBottomWidth","borderBottomColor","outline","position","margin","right","bottom"],"sources":["/Users/ziyuanhe/code/booonus-aug/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  View,\n  StyleSheet,\n  ScrollView,\n  RefreshControl,\n  Alert,\n  Platform,\n} from 'react-native';\nimport {\n  Text,\n  Card,\n  Button,\n  Avatar,\n  Chip,\n  FAB,\n} from 'react-native-paper';\nimport { Ionicons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport { authAPI, coupleAPI, pointsAPI } from '../services/api';\nimport { colors, commonStyles } from '../styles/theme';\nimport { useSnackbar } from '../hooks/useSnackbar';\nimport { showError, showSuccess, showInfo } from '../utils/notifications';\nimport CustomSnackbar from '../components/CustomSnackbar';\n\nexport default function HomeScreen({ navigation }) {\n  const [userInfo, setUserInfo] = useState(null);\n  const [coupleInfo, setCoupleInfo] = useState(null);\n  const [points, setPoints] = useState(0);\n  const [recentHistory, setRecentHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n\n  const snackbar = useSnackbar();\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      // 从本地存储获取用户信息\n      const storedUserInfo = await AsyncStorage.getItem('userInfo');\n      if (storedUserInfo) {\n        setUserInfo(JSON.parse(storedUserInfo));\n      }\n\n      // 获取最新的用户资料\n      const profileResponse = await authAPI.getProfile();\n      setUserInfo(profileResponse.user);\n      setPoints(profileResponse.user.points);\n\n      // 获取情侣信息\n      try {\n        const coupleResponse = await coupleAPI.getCouple();\n        setCoupleInfo(coupleResponse.couple);\n      } catch (error) {\n        if (error.response?.status !== 404) {\n          console.error('获取情侣信息失败:', error);\n        }\n      }\n\n      // 获取最近的积分历史\n      try {\n        const historyResponse = await pointsAPI.getHistory(5, 0);\n        setRecentHistory(historyResponse.history || []);\n      } catch (error) {\n        console.error('获取积分历史失败:', error);\n      }\n    } catch (error) {\n      console.error('加载数据失败:', error);\n      snackbar.showError('加载数据失败，请检查网络连接');\n      showError('加载数据失败，请检查网络连接');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    await loadData();\n    setRefreshing(false);\n  }, []);\n\n  const handleInviteCouple = () => {\n    if (Platform.OS === 'web') {\n      // Web平台使用原生prompt\n      const username = window.prompt('请输入对方的用户名');\n      if (!username?.trim()) return;\n\n      inviteUser(username.trim());\n    } else {\n      // 移动端使用Alert.prompt\n      Alert.prompt(\n        '邀请情侣',\n        '请输入对方的用户名',\n        [\n          { text: '取消', style: 'cancel' },\n          {\n            text: '邀请',\n            onPress: async (username) => {\n              if (!username?.trim()) return;\n              inviteUser(username.trim());\n            },\n          },\n        ],\n        'plain-text'\n      );\n    }\n  };\n\n  const inviteUser = async (username) => {\n    try {\n      await coupleAPI.invite(username);\n      snackbar.showSuccess('邀请发送成功！');\n      showSuccess('邀请发送成功！');\n      loadData(); // 重新加载数据\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || '邀请失败';\n      snackbar.showError(errorMessage);\n      showError(errorMessage);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('zh-CN', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const getPointsColor = (points) => {\n    if (points > 0) return colors.success;\n    if (points < 0) return colors.error;\n    return colors.onSurfaceVariant;\n  };\n\n  if (loading) {\n    return (\n      <View style={commonStyles.centerContainer}>\n        <Text>加载中...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <View style={commonStyles.container}>\n      <ScrollView\n        style={styles.scrollView}\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n        }\n      >\n        {/* 用户信息卡片 */}\n        <Card style={styles.userCard}>\n          <Card.Content style={styles.userCardContent}>\n            <Avatar.Icon\n              size={60}\n              icon=\"account\"\n              style={{ backgroundColor: colors.primary }}\n            />\n            <View style={styles.userInfo}>\n              <Text style={styles.username}>{userInfo?.username}</Text>\n              <View style={styles.pointsContainer}>\n                <Ionicons name=\"diamond\" size={20} color={colors.coin} />\n                <Text style={styles.pointsText}>{points} 积分</Text>\n              </View>\n            </View>\n          </Card.Content>\n        </Card>\n\n        {/* 情侣信息卡片 */}\n        {coupleInfo ? (\n          <Card style={[commonStyles.card, styles.coupleCard]}>\n            <Card.Content>\n              <View style={styles.coupleHeader}>\n                <Ionicons name=\"heart\" size={24} color={colors.heart} />\n                <Text style={styles.coupleTitle}>我的情侣</Text>\n              </View>\n              <View style={styles.coupleInfo}>\n                <Avatar.Icon\n                  size={50}\n                  icon=\"account-heart\"\n                  style={{ backgroundColor: colors.secondary }}\n                />\n                <View style={styles.partnerInfo}>\n                  <Text style={styles.partnerName}>\n                    {coupleInfo.partner.username}\n                  </Text>\n                  <View style={styles.partnerPoints}>\n                    <Ionicons name=\"diamond\" size={16} color={colors.coin} />\n                    <Text style={styles.partnerPointsText}>\n                      {coupleInfo.partner.points} 积分\n                    </Text>\n                  </View>\n                </View>\n              </View>\n            </Card.Content>\n          </Card>\n        ) : (\n          <Card style={[commonStyles.card, styles.noCoupleCard]}>\n            <Card.Content style={styles.noCoupleContent}>\n              <Ionicons name=\"heart-outline\" size={48} color={colors.onSurfaceVariant} />\n              <Text style={styles.noCoupleText}>还没有情侣</Text>\n              <Text style={styles.noCoupleSubtext}>邀请你的另一半加入吧！</Text>\n              <Button\n                mode=\"contained\"\n                onPress={handleInviteCouple}\n                style={styles.inviteButton}\n                icon=\"heart-plus\"\n              >\n                邀请情侣\n              </Button>\n            </Card.Content>\n          </Card>\n        )}\n\n        {/* 最近活动 */}\n        {recentHistory.length > 0 && (\n          <Card style={commonStyles.card}>\n            <Card.Content>\n              <Text style={styles.sectionTitle}>最近活动</Text>\n              {recentHistory.map((item) => (\n                <View key={item.id} style={styles.historyItem}>\n                  <View style={styles.historyLeft}>\n                    <Text style={styles.historyDescription}>\n                      {item.description}\n                    </Text>\n                    <Text style={styles.historyDate}>\n                      {formatDate(item.created_at)}\n                    </Text>\n                  </View>\n                  <Chip\n                    style={[\n                      styles.pointsChip,\n                      { backgroundColor: getPointsColor(item.points) + '20' },\n                    ]}\n                    textStyle={{ color: getPointsColor(item.points) }}\n                  >\n                    {item.points > 0 ? '+' : ''}{item.points}\n                  </Chip>\n                </View>\n              ))}\n            </Card.Content>\n          </Card>\n        )}\n      </ScrollView>\n\n      {/* 浮动操作按钮 */}\n      {coupleInfo && (\n        <FAB\n          icon=\"plus\"\n          style={styles.fab}\n          onPress={() => {\n            // 这里可以添加快速操作菜单\n            // 使用跨平台兼容的方式\n            if (Platform.OS === 'web') {\n              // Web端显示简单提示\n              snackbar.showInfo('请使用底部导航栏访问各功能');\n            } else {\n              // 移动端显示选择菜单\n              Alert.alert(\n                '快速操作',\n                '选择要执行的操作',\n                [\n                  { text: '取消', style: 'cancel' },\n                  { text: '创建事件', onPress: () => navigation.navigate('Events') },\n                  { text: '执行规则', onPress: () => navigation.navigate('Rules') },\n                  { text: '购买商品', onPress: () => navigation.navigate('Shop') },\n                ]\n              );\n            }\n          }}\n        />\n      )}\n\n      <CustomSnackbar\n        visible={snackbar.visible}\n        message={snackbar.message}\n        type={snackbar.type}\n        onDismiss={snackbar.hide}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  userCard: {\n    ...commonStyles.card,\n    backgroundColor: colors.primaryContainer,\n  },\n  userCardContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userInfo: {\n    marginLeft: 16,\n    flex: 1,\n  },\n  username: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: colors.onPrimaryContainer,\n  },\n  pointsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4,\n  },\n  pointsText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.onPrimaryContainer,\n    marginLeft: 4,\n  },\n  coupleCard: {\n    backgroundColor: colors.secondaryContainer,\n  },\n  coupleHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  coupleTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.onSecondaryContainer,\n    marginLeft: 8,\n  },\n  coupleInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  partnerInfo: {\n    marginLeft: 12,\n  },\n  partnerName: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.onSecondaryContainer,\n  },\n  partnerPoints: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4,\n  },\n  partnerPointsText: {\n    fontSize: 14,\n    color: colors.onSecondaryContainer,\n    marginLeft: 4,\n  },\n  noCoupleCard: {\n    backgroundColor: colors.surfaceVariant,\n  },\n  noCoupleContent: {\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  noCoupleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.onSurfaceVariant,\n    marginTop: 12,\n  },\n  noCoupleSubtext: {\n    fontSize: 14,\n    color: colors.onSurfaceVariant,\n    marginTop: 4,\n    marginBottom: 16,\n  },\n  inviteButton: {\n    backgroundColor: colors.primary,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.onSurface,\n    marginBottom: 12,\n  },\n  historyItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.outline,\n  },\n  historyLeft: {\n    flex: 1,\n  },\n  historyDescription: {\n    fontSize: 14,\n    color: colors.onSurface,\n  },\n  historyDate: {\n    fontSize: 12,\n    color: colors.onSurfaceVariant,\n    marginTop: 2,\n  },\n  pointsChip: {\n    marginLeft: 8,\n  },\n  fab: {\n    position: 'absolute',\n    margin: 16,\n    right: 0,\n    bottom: 0,\n    backgroundColor: colors.primary,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}